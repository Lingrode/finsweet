{"version":3,"file":"blog.js","sources":["../src/js/pages/blog.js"],"sourcesContent":["import axios from 'axios';\nimport { observeListener } from '../observe';\n\nconst postItems = document.querySelectorAll('.posts__item');\nconst categoriesTitle = document.querySelector('.category__title');\n\nconst BASE_URL = 'https://jsonplaceholder.org';\nconst path = window.location.pathname;\n\nif (path === '/blog.html') {\n  categoriesTitle.textContent = 'All Categories';\n  categoriesTitle.style.textAlign = 'left';\n}\n\nconst fetchPosts = async () => {\n  const response = await axios(`${BASE_URL}/posts`);\n\n  return response.data;\n};\n\nconst createMarkup = item => {\n  const { title, content, category } = item;\n\n  const text = content.split('.').slice(0, 3).join('.');\n\n  return `\n    <div class=\"posts__item-wrapper\">\n      <a class=\"posts__item-subtitle\" href=\"#\">${category}</a>\n      <h3 class=\"posts__item-title\"><a href=\"#\">${title}</a></h3>\n      <p class=\"posts__item-text\">${text}</p>\n    </div>\n  `;\n};\n\nconst createPosts = async () => {\n  try {\n    const result = await fetchPosts();\n    const filtered = result.filter(item => item.id <= 5);\n\n    postItems.forEach((item, index) => {\n      if (filtered[index]) {\n        const markup = createMarkup(filtered[index]);\n        item.insertAdjacentHTML('beforeend', markup);\n      }\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\ncreatePosts();\n"],"names":["postItems","categoriesTitle","BASE_URL","path","fetchPosts","axios","createMarkup","item","title","content","category","text","createPosts","filtered","index","markup","err"],"mappings":"+EAGA,MAAMA,EAAY,SAAS,iBAAiB,cAAc,EACpDC,EAAkB,SAAS,cAAc,kBAAkB,EAE3DC,EAAW,8BACXC,EAAO,OAAO,SAAS,SAEzBA,IAAS,eACXF,EAAgB,YAAc,iBAC9BA,EAAgB,MAAM,UAAY,QAGpC,MAAMG,EAAa,UACA,MAAMC,EAAM,GAAGH,CAAQ,QAAQ,GAEhC,KAGZI,EAAeC,GAAQ,CAC3B,KAAM,CAAE,MAAAC,EAAO,QAAAC,EAAS,SAAAC,CAAQ,EAAKH,EAE/BI,EAAOF,EAAQ,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,GAAG,EAEpD,MAAO;AAAA;AAAA,iDAEwCC,CAAQ;AAAA,kDACPF,CAAK;AAAA,oCACnBG,CAAI;AAAA;AAAA,GAGxC,EAEMC,EAAc,SAAY,CAC9B,GAAI,CAEF,MAAMC,GADS,MAAMT,KACG,OAAOG,GAAQA,EAAK,IAAM,CAAC,EAEnDP,EAAU,QAAQ,CAACO,EAAMO,IAAU,CACjC,GAAID,EAASC,CAAK,EAAG,CACnB,MAAMC,EAAST,EAAaO,EAASC,CAAK,CAAC,EAC3CP,EAAK,mBAAmB,YAAaQ,CAAM,CAC5C,CACP,CAAK,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAJ,EAAa"}